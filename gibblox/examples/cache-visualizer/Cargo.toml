[workspace]
# This is a standalone example, not part of the gibblox workspace

[package]
name = "cache-visualizer"
version = "0.1.0"
edition = "2024"

[lib]
crate-type = ["cdylib", "rlib"]

[dependencies]
wasm-bindgen = "0.2.95"
wasm-bindgen-futures = "0.4.45"
web-sys = { version = "0.3.72", features = [
    "Window", "Document", "Element", "HtmlElement",
    "Performance", "Location",
    "console",
] }
js-sys = "0.3.72"
console_error_panic_hook = "0.1.7"
tracing = { version = "0.1.41", default-features = false }
tracing-wasm = "0.2.1"
tracing-subscriber = { version = "0.3.18", features = ["fmt", "registry"] }
gloo-timers = { version = "0.3", features = ["futures"] }
anyhow = "1.0"
url = "2.5"

# gibblox dependencies
gibblox-core = { path = "../../crates/gibblox-core", default-features = false }
gibblox-cache = { path = "../../crates/gibblox-cache", default-features = false, features = ["std"] }
gibblox-cache-store-opfs = { path = "../../crates/gibblox-cache-store-opfs" }
gibblox-http = { path = "../../crates/gibblox-http", default-features = false, features = ["wasm-client"] }

[package.metadata.wasm-pack.profile.dev]
wasm-opt = false
source-map = true

[package.metadata.wasm-pack.profile.release]
wasm-opt = ["-O"]
source-map = true
